plugins {
    id 'com.gradle.build-scan' version '1.9' // declare before any other plugin
    id 'com.jfrog.bintray' version '1.8.0'
    id 'com.google.osdetector' version '1.4.0'
    id 'com.github.sherter.google-java-format' version '0.6' apply false
    id 'com.github.johnrengelman.shadow' version '2.0.1' apply false
    id 'me.champeau.gradle.jmh' version '0.4.4' apply false
    id 'io.morethan.jmhreport' version '0.6.2.1' apply false
}

buildScan { licenseAgreementUrl = 'https://gradle.com/terms-of-service'; licenseAgree = 'yes' }

project(':auth') {
    description = 'Netifi Proteus Authentication Utilities'
    ext.artifactName = 'auth'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}

project(':access-key-info-idl') {
    description = 'Netifi Access Key IDL'
    ext.artifactName = 'access-key-idl'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}

project(':broker-info-idl') {
    description = 'Netifi Broker Info IDL'
    ext.artifactName = 'broker-info-idl'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}

project(':broker-mgmt-idl') {

    description = 'Netifi Broker Management IDL'
    ext.artifactName = 'broker-mgmt-idl'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}

project(':client') {
    description = 'Netifi Proteus Client'
    ext.artifactName = 'client'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}

project(':core') {
    description = 'Netifi Core Library'
    ext.artifactName = 'core'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}

project(':core-idl') {
    description = 'Netifi Core IDL'
    ext.artifactName = 'core-idl'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}

project(':frames') {
    description = 'Netifi Proteus Frames'
    ext.artifactName = 'frames'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}

project(':metrics-idl') {
    description = 'Netifi Proteus Metrics IDL'
    ext.artifactName = 'metrics-idl'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}

project(':metrics-micrometer') {
    description = 'Netifi Proteus Micrometer Support'
    ext.artifactName = 'metrics-prometheus'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}

project(':metrics-prometheus') {
    description = 'Netifi Proteus Prometheus Integration'
    ext.artifactName = 'metrics-prometheus'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}

project(':protobuf-rpc') {
    description = 'Netifi Proteus RPC'
    ext.artifactName = 'protobuf-rpc'

    apply from: file('../gradle/release.gradle')
}


project(':tracing-openzipkin') {
    description = 'Netifi Proteus Openzipkin Integration'
    ext.artifactName = 'tracing'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}


project(':tracing-idl') {
    description = 'Netifi Proteus Tracing IDL'
    ext.artifactName = 'tracing-idl'

    apply from: file('../gradle/release.gradle')
    apply from: file('../gradle/java.gradle')
}
